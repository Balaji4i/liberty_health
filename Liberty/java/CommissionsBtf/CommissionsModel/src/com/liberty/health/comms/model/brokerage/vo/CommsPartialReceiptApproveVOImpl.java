package com.liberty.health.comms.model.brokerage.vo;

import com.core.model.vo.classes.CoreViewObjectImpl;

import com.liberty.health.comms.model.brokerage.vo.common.CommsPartialReceiptApproveVO;
import com.liberty.health.comms.model.ohi.vo.NewOhiCommPercVOImpl;
import com.liberty.health.comms.model.ohi.vo.NewOhiCommPercVORowImpl;
// ---------------------------------------------------------------------
// ---    File generated by Oracle ADF Business Components Design Time.
// ---    Fri May 31 09:18:40 CAT 2019
// ---    Custom code may be added to this class.
// ---    Warning: Do not modify method signatures of generated methods.
// ---------------------------------------------------------------------
public class CommsPartialReceiptApproveVOImpl extends CoreViewObjectImpl implements CommsPartialReceiptApproveVO {
    /**
     * This is the default constructor (do not remove).
     */
    public CommsPartialReceiptApproveVOImpl() {
    }
    
    public String setAuthUsername(String username) {
        String returnMsg = null;
        System.out.println("in the setauthusername for partial receipt approval");
        CommsPartialReceiptApproveVOImpl vo = (CommsPartialReceiptApproveVOImpl) this.getViewObject();
        CommsPartialReceiptApproveVORowImpl row = (CommsPartialReceiptApproveVORowImpl) vo.getCurrentRow();
        
        System.out.println("after fetching the current row ");
          
          
           
        if (row.getCreatedBy().compareTo(username) == 0) {
            returnMsg = "You created the record and therefore cannot approve the change as well.";
        } else {
            System.out.println("updating the values");
            row.setApprovedBy(username);
            row.setActiveYn("Y");
            this.getDBTransaction().commit();
            this.executeQuery();
            returnMsg = "Success";
        }
        return returnMsg;
    }


    /**
     * Returns the bind variable value for pcountrylist.
     * @return bind variable value for pcountrylist
     */
    public String getpcountrylist() {
        return (String) getNamedWhereClauseParam("pcountrylist");
    }

    /**
     * Sets <code>value</code> for bind variable pcountrylist.
     * @param value value to bind as pcountrylist
     */
    public void setpcountrylist(String value) {
        setNamedWhereClauseParam("pcountrylist", value);
    }
}

